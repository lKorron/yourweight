{"version":3,"file":"js/530.868812e7.js","mappings":"0mDAwGA,EAAe,CACbA,KAAM,a,yFAiBR,MAAMC,GAASC,EAAAA,EAAAA,IAAI,IACbC,GAASD,EAAAA,EAAAA,IAAI,IACbE,GAAMF,EAAAA,EAAAA,IAAI,IACVG,GAAQH,EAAAA,EAAAA,IAAI,KACZI,GAAMJ,EAAAA,EAAAA,IAAI,IAEVK,GAAUL,EAAAA,EAAAA,IAAI,OAoBpB,SAASM,EAASC,GAChB,MAAMC,EAAeC,SAASV,EAAOW,OAC/BC,EAAeF,SAASR,EAAOS,OAC/BE,EAAYH,SAASP,EAAIQ,OACzBG,EAAcC,WAAWX,EAAMO,OAE/BK,EAAW,CACfhB,OAAQS,EACRP,OAAQU,EACRT,IAAKU,EACLT,MAAOU,EACPT,IAAKA,EAAIM,OAGXM,EAAK,SAAUD,EAChB,C,OAlCDE,EAAAA,EAAAA,IAAMf,GAAK,KACT,MAAMU,EAAYH,SAASP,EAAIQ,OAE/B,GAAIQ,MAAMN,GACR,OAGF,MAAMO,EAAaC,OAAOC,OAAOT,GAAW,IACtCU,EAAYF,OAAOC,OAAOT,GAAWW,OAAO,IAGhDlB,EAAQK,MADQ,GAAdS,GAAiC,IAAdG,EACL,MACO,GAAdH,GAAmBG,EAAY,GAAKA,EAAY,EACzC,OAEA,KACjB,KAoBHE,EAAAA,EAAAA,IAAW,OAAQd,KACbA,GAGG,qB,o0DCnKT,MAAMe,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,gbCiBA,MAAMxB,GAASD,EAAAA,EAAAA,IAAI,MAEbM,EAAW,KACf,MAAMK,EAAeF,SAASR,EAAOS,OAE/BgB,EAAc,CAClBC,aAAchB,GAGhBK,EAAK,SAAUU,EAAf,E,iaC5BF,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,0MCkBAE,EAAAA,EAAAA,KAAU,KACRC,GAAgB,IAIlB,MAAMC,GAAa9B,EAAAA,EAAAA,IAAI,MACjB+B,GAAe/B,EAAAA,EAAAA,IAAI,MAEnB6B,EAAiBG,UACrB,MAAMC,QAAoBH,EAAWpB,MAAMwB,OAEvCD,GACFE,GACD,EAGGA,EAAmBH,UACvB,MAAMC,QAAoBF,EAAarB,MAAMwB,OAEzCD,GACFG,EAAAA,EAAAA,KAAY,CAAEtC,KAAM,QACrB,EAGGuC,GAAQC,EAAAA,EAAAA,MAERC,EAAgBC,IACpBV,EAAWpB,MAAM+B,QACjBV,EAAarB,MAAM+B,QAEnBJ,EAAMK,SAAU,6BAA6BF,EAA7C,E,mZCrDF,MAAM,GAAc,GAEpB,S","sources":["webpack://yourweight/./src/components/UserInput.vue","webpack://yourweight/./src/components/UserInput.vue?3e65","webpack://yourweight/./src/components/PurposeInput.vue","webpack://yourweight/./src/components/PurposeInput.vue?7b07","webpack://yourweight/./src/views/InputView.vue","webpack://yourweight/./src/views/InputView.vue?27ba"],"sourcesContent":["<template>\n  <div class=\"user-input\">\n    <Form @submit=\"onSubmit\">\n      <div class=\"user-input__number-group\">\n        <div class=\"user-input__height\">\n          <div class=\"user-input__number\">\n            <label for=\"height\">Ваш рост</label>\n            <Field\n              v-model=\"height\"\n              type=\"text\"\n              id=\"height\"\n              name=\"height\"\n              rules=\"number\"\n            />\n            см\n          </div>\n          <ErrorMessage name=\"height\" v-slot=\"{ message }\">\n            <span class=\"error-message\">{{ message }}</span>\n          </ErrorMessage>\n        </div>\n\n        <div class=\"user-input__weight\">\n          <div class=\"user-input__number\">\n            <label for=\"weight\">Ваш вес</label>\n            <Field\n              v-model=\"weight\"\n              type=\"text\"\n              id=\"weight\"\n              name=\"weight\"\n              rules=\"number\"\n            />\n            кг\n          </div>\n          <ErrorMessage name=\"weight\" v-slot=\"{ message }\">\n            <span class=\"error-message\">{{ message }}</span>\n          </ErrorMessage>\n        </div>\n\n        <div class=\"user-input__age\">\n          <div class=\"user-input__number\">\n            <label for=\"age\">Ваш возраст</label>\n            <Field\n              v-model=\"age\"\n              type=\"text\"\n              id=\"age\"\n              name=\"age\"\n              rules=\"number\"\n            />\n            {{ ageUnit }}\n          </div>\n          <ErrorMessage name=\"age\" v-slot=\"{ message }\">\n            <span class=\"error-message\">{{ message }}</span>\n          </ErrorMessage>\n        </div>\n      </div>\n\n      <div class=\"user-input__coeff coeff\">\n        <label class=\"coeff__label\" for=\"\"\n          >Выберете коэффициент активности:</label\n        >\n        <Field class=\"coeff__select\" v-model=\"coeff\" name=\"coeff\" as=\"select\"\n          ><option value=\"1.2\">Минимальный уровень активности — 1.2</option>\n          <option value=\"1.375\">Низкий уровень активности — 1.375</option>\n          <option value=\"1.55\" selected>\n            Средний уровень активности — 1.55\n          </option>\n          <option value=\"1.725\">Высокий уровень — 1.725</option>\n          <option value=\"1.9\">Очень высокий — 1.9</option></Field\n        >\n      </div>\n\n      <div class=\"user-input__sex sex\">\n        <div class=\"sex__name\">Пол</div>\n        <Field\n          v-model=\"sex\"\n          type=\"radio\"\n          name=\"sex\"\n          id=\"male\"\n          value=\"male\"\n          rules=\"sex\"\n        />\n        <label for=\"male\">Мужской</label>\n\n        <Field\n          v-model=\"sex\"\n          type=\"radio\"\n          name=\"sex\"\n          id=\"female\"\n          value=\"female\"\n          rules=\"sex\"\n        />\n        <label for=\"female\">Женский</label>\n\n        <ErrorMessage name=\"sex\" v-slot=\"{ message }\">\n          <div class=\"error-message\">{{ message }}</div>\n        </ErrorMessage>\n      </div>\n\n      <button class=\"user-input__button button\">Готово</button>\n    </Form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"UserInput\",\n};\n</script>\n\n<script setup>\nimport { ref, defineEmits, watch } from \"vue\";\nimport { Form, Field, defineRule, ErrorMessage } from \"vee-validate\";\n\nconst emit = defineEmits({\n  submit: (userInfo) => {\n    if (userInfo.height && userInfo.weight && userInfo.sex) {\n      return true;\n    }\n    return false;\n  },\n});\n\nconst height = ref(\"\");\nconst weight = ref(\"\");\nconst age = ref(\"\");\nconst coeff = ref(1.2);\nconst sex = ref(\"\");\n\nconst ageUnit = ref(\"лет\");\nwatch(age, () => {\n  const parsedAge = parseInt(age.value);\n\n  if (isNaN(parsedAge)) {\n    return;\n  }\n\n  const firstDigit = Number(String(parsedAge)[0]);\n  const lastDigit = Number(String(parsedAge).slice(-1));\n\n  if (firstDigit != 1 && lastDigit === 1) {\n    ageUnit.value = \"год\";\n  } else if (firstDigit != 1 && lastDigit > 1 && lastDigit < 5) {\n    ageUnit.value = \"года\";\n  } else {\n    ageUnit.value = \"лет\";\n  }\n});\n\nfunction onSubmit(values) {\n  const parsedHeight = parseInt(height.value);\n  const parsedWeight = parseInt(weight.value);\n  const parsedAge = parseInt(age.value);\n  const parsedCoeff = parseFloat(coeff.value);\n\n  const userInfo = {\n    height: parsedHeight,\n    weight: parsedWeight,\n    age: parsedAge,\n    coeff: parsedCoeff,\n    sex: sex.value,\n  };\n\n  emit(\"submit\", userInfo);\n}\n\ndefineRule(\"sex\", (value) => {\n  if (value) {\n    return true;\n  }\n  return \"Выберете ваш пол\";\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/styles/_variables.scss\";\n\n.error-message {\n  color: red;\n}\n\n.user-input {\n  padding: 10px;\n\n  &__number-group {\n    > :not(:last-child) {\n      margin-bottom: 10px;\n    }\n  }\n\n  &__number {\n    display: flex;\n    justify-content: center;\n\n    :first-child {\n      margin-right: 10px;\n    }\n\n    input {\n      width: 30px;\n      margin-right: 10px;\n    }\n  }\n\n  &__coeff {\n    margin-top: 15px;\n  }\n\n  &__sex {\n    margin-top: 15px;\n  }\n\n  &__button {\n    margin-top: 20px;\n  }\n}\n\n.coeff {\n  &__select {\n    margin-top: 10px;\n\n    @media (max-width: $md3) {\n      font-size: 10px;\n    }\n  }\n}\n</style>\n","import script from \"./UserInput.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserInput.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UserInput.vue?vue&type=style&index=0&id=0afdba86&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/grigorijnikitin/yourweight/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0afdba86\"]])\n\nexport default __exports__","<template>\n  <Form @submit=\"onSubmit\" class=\"purpose-input\">\n    <div class=\"purpose-input__label\">\n      <label for=\"weight\">Введите вес, который хотите получить</label>\n    </div>\n\n    <div class=\"purpose-input__input\">\n      <Field v-model=\"weight\" type=\"text\" name=\"weight\" rules=\"number\" /> кг\n      <ErrorMessage name=\"weight\" v-slot=\"{ message }\">\n        <div class=\"error-message\">{{ message }}</div>\n      </ErrorMessage>\n    </div>\n\n    <button class=\"purpose-input__button button\">ок</button>\n  </Form>\n</template>\n\n<script setup>\nimport { ref, defineEmits } from \"vue\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\n\nconst emit = defineEmits({\n  submit: (value) => typeof value === \"object\",\n});\n\nconst weight = ref(null);\n\nconst onSubmit = () => {\n  const parsedWeight = parseInt(weight.value);\n\n  const purposeInfo = {\n    targetWeight: parsedWeight,\n  };\n\n  emit(\"submit\", purposeInfo);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.purpose-input {\n  input {\n    width: 30px;\n    margin-left: 18px;\n  }\n\n  &__button {\n    margin-top: 15px;\n  }\n\n  > :not(:last-child) {\n    margin-bottom: 10px;\n  }\n}\n\n.error-message {\n  color: red;\n}\n</style>\n","import script from \"./PurposeInput.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PurposeInput.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PurposeInput.vue?vue&type=style&index=0&id=55bc0ad4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/grigorijnikitin/yourweight/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-55bc0ad4\"]])\n\nexport default __exports__","<template>\n  <async-popup ref=\"inputPopup\" ignoreKeys>\n    <template #header> Данные пользователя </template>\n    <template #default>\n      <user-input @submit=\"handleSubmit\"></user-input\n    ></template>\n    <template #button><div></div></template>\n  </async-popup>\n  <async-popup ref=\"purposePopup\" ignoreKeys>\n    <template #header> Желаемый вес </template>\n    <template #default>\n      <purpose-input @submit=\"handleSubmit\"></purpose-input\n    ></template>\n    <template #button><div></div></template>\n  </async-popup>\n</template>\n\n<script setup>\nimport UserInput from \"../components/UserInput.vue\";\nimport PurposeInput from \"../components/PurposeInput.vue\";\nimport AsyncPopup from \"../components/AsyncPopup.vue\";\n\nimport { ref, onMounted, reactive, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport router from \"@/router\";\n\nonMounted(() => {\n  openInputPopup();\n});\n\n// Popups\nconst inputPopup = ref(null);\nconst purposePopup = ref(null);\n\nconst openInputPopup = async () => {\n  const popupResult = await inputPopup.value.open();\n\n  if (popupResult) {\n    openPurposePopup();\n  }\n};\n\nconst openPurposePopup = async () => {\n  const popupResult = await purposePopup.value.open();\n\n  if (popupResult) {\n    router.push({ name: \"home\" });\n  }\n};\n\nconst store = useStore();\n\nconst handleSubmit = (userObject) => {\n  inputPopup.value.close();\n  purposePopup.value.close();\n\n  store.dispatch(`userDataModule/setUserData`, userObject);\n};\n</script>\n\n<style></style>\n","import script from \"./InputView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InputView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["name","height","ref","weight","age","coeff","sex","ageUnit","onSubmit","values","parsedHeight","parseInt","value","parsedWeight","parsedAge","parsedCoeff","parseFloat","userInfo","emit","watch","isNaN","firstDigit","Number","String","lastDigit","slice","defineRule","__exports__","purposeInfo","targetWeight","onMounted","openInputPopup","inputPopup","purposePopup","async","popupResult","open","openPurposePopup","router","store","useStore","handleSubmit","userObject","close","dispatch"],"sourceRoot":""}